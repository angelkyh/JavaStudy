<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="EmpInfo">
    <select id="selectEmpList" parameterType="String" resultType="com.example.demo.dto.empInfoDto">
	    <![CDATA[
		    SELECT a.emp_no
		         , a.emp_nm
		         , a.dept_cd
		         , b.dept_nm
		         , a.gender
		        -- , a.retire_dt
		        -- , a.reg_user_id
		        -- , a.reg_dttm
		        -- , a.last_mod_user_id
		        -- , a.last_mod_dttm
		      FROM TB_MS_EMP  a
		         , TB_MS_DEPT b
		     WHERE a.dept_cd = #{deptCd}
		       AND b.dept_cd = a.dept_cd
		    ;
	   ]]>
	</select>
	
	<insert id="insertEmpList" parameterType="com.example.demo.dto.empInfoDto">
	    <![CDATA[
	        INSERT INTO
	             ( a.emp_no
		         , a.emp_nm
		         , a.dept_cd
		         , b.dept_nm
		         , a.gender
		         , a.retire_dt
		         , a.reg_user_id
		         , a.reg_dttm
		         , a.last_mod_user_id
		         , a.last_mod_dttm
		         )
		  VALUES ( #{empNo}
		         , #{empNm}
		         , #{deptCd}
		         , #{deptNm}
		         , #{gender}
		         , #{retireDt}
		         , #{regUserId}
		         , #{regDttm}
		         , #{JobId}
		         , NOW()
		         )
		    ;
	   ]]>
	</insert>
</mapper>